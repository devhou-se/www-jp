<!DOCTYPE html>
<html>
{{- partial "head.html" . -}}
<body>
<div class="コンテナ">
    <div class="ヘッダ 章">
        {{- partial "header.html" . -}}
    </div>
    <div class="主要">
        <div class="左-ナビ 章">
            {{- partial "sidebar.html" . }}
        </div>
        <div class="内容 章">
            {{- block "main" . }}{{- end }}
        </div>
        <div class="右-ナビ 章">
            {{- partial "infobar.html" . }}
        </div>
    </div>
</div>
{{ partial "footer.html" . }}
<script>
    // Mobile collapsible sidebar
    document.addEventListener('DOMContentLoaded', function() {
        if (window.innerWidth <= 768) {
            const sidebar = document.querySelector('div.左-ナビ');
            if (sidebar) {
                // Start collapsed on mobile
                sidebar.classList.add('collapsed');

                const heading = sidebar.querySelector('p');
                if (heading) {
                    heading.addEventListener('click', function() {
                        sidebar.classList.toggle('collapsed');
                    });
                }
            }
        }

        // Re-check on window resize
        window.addEventListener('resize', function() {
            const sidebar = document.querySelector('div.左-ナビ');
            if (sidebar) {
                if (window.innerWidth <= 768) {
                    if (!sidebar.classList.contains('collapsed')) {
                        sidebar.classList.add('collapsed');
                    }
                } else {
                    sidebar.classList.remove('collapsed');
                }
            }
        });
    });
</script>
</body>
</html>